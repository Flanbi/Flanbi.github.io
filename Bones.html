<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="style.css" rel="stylesheet">
    <title>ğŸ¦´ğ”…ğ”¬ğ”«ğ”¢ğ”°ğŸ¦´</title>
</head>

<body>


    <span id="BonesNumber">ğŸ¦´ : ? </span>
    <span id="SkullsNumber">ğŸ’€ : ? </span>
    <span id="SkeletonsNumber">â˜ ï¸ : ? </span>

    <br><br>
    <hr>
    <br>

    <button id="ClickBones" onclick="ClickBones()"> Add + 1 ğŸ¦´</button>
    <button id="MakeSkeleton" onclick="MakeSkeleton()">Create a â˜ ï¸ (Costs 206 ğŸ¦´ + 1 ğŸ’€)</button>
    <br>
    <button id="ActivateBonesGeneration" onclick="ActivateBonesGeneration()"> Start generating 1 ğŸ¦´ per second (Costs 1
        ğŸ’€) </button>
    <button id="ActivateSkullsGeneration" onclick="ActivateSkullsGeneration()"> Start generating 1 ğŸ’€ per 60 seconds
        (Costs 1 â˜ ï¸) </button>

    <br><br>
    <hr>
    <br>

    <button id="ConvertBonesSkull" onclick="ConvertBonesSkull()">Convert 60 ğŸ¦´ into 1 ğŸ’€</button>
    <button id="ConvertSkullBones" onclick="ConvertSkullBones()">Convert 1 ğŸ’€ into 50 ğŸ¦´</button>

    <br><br>
    <hr>


    <div style="display:flex">
        <div style="width:50%">
            ğŸŒ± Farm ğŸŒ±
            <br>
            <span id="FarmSkeletonsNumber">Number of â˜ ï¸ currently working here : ?</span>
            <br>
            <button id="ActivateFarmHarvesting" onclick="ActivateFarmHarvesting()">Start harvesting all plants, once per
                second (Costs 1 â˜ ï¸)</button>
            <br>

            <pre id="farm1">
      _____________________
     /<span id="farm1line1"> ,  ,  ,  ,  ,  ,  ,</span>/
    /<span id="farm1line2">,  ,  ,  ,  ,  ,  , </span>/
   /<span id="farm1line3"> ,  ,  ,  ,  ,  ,  ,</span>/
  /<span id="farm1line4">,  ,  ,  ,  ,  ,  , </span>/
 /<span id="farm1line5"> ,  ,  ,  ,  ,  ,  ,</span>/
 â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
</pre>
        </div>
        <div style="width:50%">

            Common:
            <span id="PotatoesNumber">ğŸ¥” : ?</span>
            <span id="CarrotsNumber">ğŸ¥• : ?</span>
            <span id="SaladsNumber">ğŸ¥¬ : ?</span>
            <span id="TomatoesNumber">ğŸ… : ?</span>
            <span id="ApplesNumber">ğŸ : ?</span>

            <br>

            Rare:
            <span id="CornsNumber">ğŸŒ½ : ?</span>
            <span id="CucumbersNumber">ğŸ¥’ : ?</span>
            <span id="WatermelonsNumber">ğŸ‰ : ?</span>
            <span id="OrangesNumber">ğŸŠ : ?</span>

            <br>

            Legendary:
            <span id="GrapesNumber">ğŸ‡ : ?</span>
            <span id="OnionsNumber">ğŸ§… : ?</span>
            <span id="CherriesNumber">ğŸ’ : ?</span>

        </div>

    </div>

    <button id="farmPlantCrop" onclick="farmPlantCrop()">Plant 1 crop in the farm</button>
    <button id="ActivateFarmGeneration" onclick="ActivateFarmGeneration()">Starts generating 1 crop per second (Costs 1
        â˜ ï¸)</button>

    <script>
        var Bones = 2000
        var Skulls = 10
        var Skeletons = 20

        function LoadEverything() {
            ShowUI()
            ShowUIFarm()
        }

        //Fonction qui affiche les valeurs pour les changements
        function ShowUI() {
            document.getElementById("BonesNumber").innerHTML = 'ğŸ¦´ : ' + Bones
            document.getElementById("SkullsNumber").innerHTML = 'ğŸ’€ : ' + Skulls
            document.getElementById("SkeletonsNumber").innerHTML = 'â˜ ï¸ : ' + Skeletons
        }

        ////////////////////////////
        // Gestion des ressources //
        ////////////////////////////

        //ğŸ¦´ğŸ¦´ğŸ¦´ğŸ¦´ğŸ¦´
        function changeBones(n) {
            Bones += n
            ShowUI()
        }
        //ğŸ’€ğŸ’€ğŸ’€ğŸ’€ğŸ’€
        function changeSkulls(n) {
            Skulls += n
            ShowUI()
        }
        //â˜ ï¸â˜ ï¸â˜ ï¸â˜ ï¸â˜ ï¸
        function changeSkeletons(n) {
            Skeletons += n
            ShowUI()
        }

        ////////////////////////////
        // Boutons des ressources //
        ////////////////////////////

        //Bouton qui ajoute un os
        function ClickBones() {
            changeBones(1)
        }

        //Bouton d'activation de la gÃ©nÃ©ration de ğŸ¦´
        function ActivateBonesGeneration() {
            if (Skulls >= 1) {
                changeSkulls(-1)
                //DÃ©lai : 1 Sec
                const ActivationOs = setInterval(changeBones, 1000, 1);
                document.getElementById('ActivateBonesGeneration').style.visibility = 'hidden';
            }
        }

        //Bouton d'activation de la gÃ©nÃ©ration de ğŸ’€
        function ActivateSkullsGeneration() {
            if (Skeletons >= 1) {
                changeSkeletons(-1)
                //DÃ©lai : 60 Sec
                const ActivationSkull = setInterval(changeSkulls, 60000, 1);
                document.getElementById('ActivateSkullsGeneration').style.visibility = 'hidden';
            }
        }

        //////////////////////////////
        // Conversion de ressources //
        //////////////////////////////

        // 60 ğŸ¦´ -> 1 ğŸ’€
        function ConvertBonesSkull() {
            if (Bones >= 60) {
                changeBones(-60)
                changeSkulls(1)
            }
        }

        // 1 ğŸ’€ -> 50 ğŸ¦´
        function ConvertSkullBones() {
            if (Skulls >= 1) {
                changeSkulls(-1)
                changeBones(50)
            }
        }

        // 1 ğŸ’€ + 206 ğŸ¦´ -> 1 â˜ ï¸
        function MakeSkeleton() {
            if (Skulls >= 1 & Bones >= 206) {
                changeSkulls(-1)
                changeBones(-206)
                changeSkeletons(1)
            }
        }


        ////////////
        // Autres //
        ////////////

        function getRandomInt(max) {
            return Math.floor(Math.random() * max);
        }

        var farmSkeletons = 0
        var nbCrops = 0
        var boneMeal = 0


        //Communs: [ğŸ¥”, ğŸ¥•, ğŸ¥¬, ğŸ…, ğŸ]
        var listPlantsCommon = [0, 0, 0, 0, 0]

        //Rares: [ğŸŒ½, ğŸ¥’, ğŸ‰, ğŸŠ]
        var listPlantsRare = [0, 0, 0, 0]

        // LÃ©gendaire  [ğŸ‡, ğŸ§…, ğŸ’]
        var listPlantsLegendary = [0, 0, 0]





        //Var qui dÃ¨s le load rÃ©cupÃ¨re la ferme
        var farmHTML = document.getElementById('farm1').innerHTML







        //Fonction qui affiche les valeurs pour la ferme
        function ShowUIFarm() {
            document.getElementById("FarmSkeletonsNumber").innerHTML = 'Number of â˜ ï¸ currently working here : ' + farmSkeletons

            document.getElementById("PotatoesNumber").innerHTML = 'ğŸ¥” : ' + listPlantsCommon[0]
            document.getElementById("CarrotsNumber").innerHTML = 'ğŸ¥• : ' + listPlantsCommon[1]
            document.getElementById("SaladsNumber").innerHTML = 'ğŸ¥¬ : ' + listPlantsCommon[2]
            document.getElementById("TomatoesNumber").innerHTML = 'ğŸ… : ' + listPlantsCommon[3]
            document.getElementById("ApplesNumber").innerHTML = 'ğŸ : ' + listPlantsCommon[4]

            document.getElementById("CornsNumber").innerHTML = 'ğŸŒ½ : ' + listPlantsRare[0]
            document.getElementById("CucumbersNumber").innerHTML = 'ğŸ¥’ : ' + listPlantsRare[1]
            document.getElementById("WatermelonsNumber").innerHTML = 'ğŸ‰ : ' + listPlantsRare[2]
            document.getElementById("OrangesNumber").innerHTML = 'ğŸŠ : ' + listPlantsRare[3]

            document.getElementById("GrapesNumber").innerHTML = 'ğŸ‡ : ' + listPlantsLegendary[0]
            document.getElementById("OnionsNumber").innerHTML = 'ğŸ§… : ' + listPlantsLegendary[1]
            document.getElementById("CherriesNumber").innerHTML = 'ğŸ’ : ' + listPlantsLegendary[2]
        }

        ////////////////////////////
        // Gestion des ressources //
        ////////////////////////////

        //â˜ ï¸ğŸ‘¨â€ğŸŒ¾â˜ ï¸ğŸ‘¨â€ğŸŒ¾â˜ ï¸
        function changeFarmSkeletons(n) {
            farmSkeletons += n
            ShowUIFarm()
        }

        // Ajouter un â˜ ï¸ Ã  la ferme
        function AddFarmSkeleton() {
            if (Skeletons >= 1) {
                changeSkeletons(-1)
                changeFarmSkeletons(1)

            }
        }

        // Tire une plante alÃ©atoire, avec chance pour differente raretÃ©
        function rollPlants() {
            console.log(nbCrops)
            chance = getRandomInt(100) + 1
            //Legendaire
            if (chance <= 5) {
                listPlantsLegendary[getRandomInt(3)] += 1
            }
            //Rare
            else if (5 < chance & chance <= 25) {
                listPlantsRare[getRandomInt(4)] += 1
            }
            //Commun
            else {
                listPlantsCommon[getRandomInt(5)] += 1
            }
        }

        // Fonction pour tout ramasser
        function harvestAll() {
            pickUpPlants()
            ShowUIFarm()
        }

        // Lance la rÃ©cupÃ©ration des plantes
        function ActivateFarmHarvesting() {
            if (Skeletons >= 1) {
                AddFarmSkeleton(1);
                //DÃ©lai : 10 Sec
                const ActivationHarvesting = setInterval(harvestAll, 10000);
                document.getElementById('ActivateFarmHarvesting').style.visibility = 'hidden';
            }
        }

        // Lance la gÃ©nÃ©ration de plantes
        function ActivateFarmGeneration() {
            if (Skeletons >= 1) {
                AddFarmSkeleton(1);
                //DÃ©lai : 1 Sec
                const ActivationPlants = setInterval(farmPlantCrop, 1000);
                document.getElementById('ActivateFarmGeneration').style.visibility = 'hidden';
            }
        }

        //Va mettre un 'v' sur un emplacement alÃ©atoire du champ + ajoute 1 Ã  nbCrops
        function farmPlantCrop() {
            //On recup la ligne
            idLine = "farm1line" + (getRandomInt(5) + 1)
            line = document.getElementById(idLine).textContent
            position = getRandomInt(20)

            //verif du character Ã  la position
            characterAtPos = line.substring(position, position + 1)
            if (characterAtPos != 'v') {
                nbCrops = nbCrops + 1
                part1Line = line.substring(0, position)
                part2Line = line.substring(position + 1, line.length)
                line = part1Line + 'v' + part2Line
                document.getElementById(idLine).innerHTML = line
            }
            else {
                farmPlantCrop()
            }
        }

        // Remet le champ et le nbCrops Ã  0
        function pickUpPlants() {
            farmV = document.getElementById('farm1').innerHTML
            farmV = farmV.replace(/[^v]/g, "").length
            document.getElementById('farm1').innerHTML = farmHTML
            for (let i = 0; i < nbCrops; i++) {
                rollPlants()
            }
            nbCrops = 0
        }

/*
Les squelettes peuvent Ãªtre rÃ©aprtis sur differentes zones (farm, fishing, mining...)
chaque zone gÃ©nÃ©re des ressources avec differentes raretÃ©es

4 RaretÃ©es:
- Commun 70%
- Rare 25%
- LÃ©gendaire 5%
- Unique (RÃ©compense bonus? jsp)


Ferme: gÃ©nÃ©re des lÃ©gumes
les lÃ©gumes servent Ã  faire de la nourriture pour booster les squelettes


- Commun [ğŸ¥”, ğŸ¥•, ğŸ¥¬, ğŸ…, ğŸ]
- Rare [ğŸŒ½, ğŸ¥’, ğŸ‰, ğŸŠ]
- LÃ©gendaire  [ğŸ‡, ğŸ§…, ğŸ’]
- Unique [ğŸ§„, ğŸ„]

Les os peuvent donner une poudre d'os pour faire plus de plantes (ex 10 os -> 1 poudre -> un lot de 5 plantes d'un coup)


Si ya un mode combat, lorsqu'un skelete meurt il drop son crane mais pas ses os
*/

    </script>

    <style>
        body {
            background-color: black;
            color: white;
            font-size: 200%;
        }

        button {
            background-color: black;
            border-color: gainsboro;
            color: white;
            font-size: 100%;
        }
    </style>

    <body onload="LoadEverything()">


    </body>

</html>